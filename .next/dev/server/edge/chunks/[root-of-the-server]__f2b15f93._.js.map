{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import type { NextRequest } from 'next/server';\nimport { NextResponse } from 'next/server';\n\nconst AUTH_COOKIE = 'auth_token';\nconst PUBLIC_PATHS = ['/', '/login'];\nconst PROTECTED_PREFIXES = ['/dashboard', '/applications'];\n\nfunction isPublicPath(pathname: string) {\n  return PUBLIC_PATHS.some((path) => pathname === path || pathname.startsWith(`${path}/`));\n}\n\nfunction isProtectedPath(pathname: string) {\n  if (isPublicPath(pathname)) return false;\n  if (PROTECTED_PREFIXES.some((path) => pathname === path || pathname.startsWith(`${path}/`))) {\n    return true;\n  }\n  // Treat any other app route (non-asset, non-API) as private by default.\n  return true;\n}\n\nexport function middleware(req: NextRequest) {\n  const { pathname, search } = req.nextUrl;\n  const hasAuthCookie = Boolean(req.cookies.get(AUTH_COOKIE));\n\n  if (isPublicPath(pathname)) {\n    if (hasAuthCookie && pathname.startsWith('/login')) {\n      return NextResponse.redirect(new URL('/dashboard', req.url));\n    }\n    return NextResponse.next();\n  }\n\n  if (isProtectedPath(pathname) && !hasAuthCookie) {\n    const loginUrl = new URL('/login', req.url);\n    const redirectTarget = `${pathname}${search}`;\n    if (redirectTarget !== '/') {\n      loginUrl.searchParams.set('redirectTo', redirectTarget);\n    }\n    return NextResponse.redirect(loginUrl);\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  // Skip assets and API routes; run only on relevant app paths.\n  matcher: [\n    '/((?!api|_next/static|_next/image|_next/data|favicon.ico|static|.*\\\\.(?:png|jpg|jpeg|gif|svg|ico|webp|avif|css|js|map)$).*)',\n  ],\n};\n"],"names":[],"mappings":";;;;;;AACA;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,eAAe;IAAC;IAAK;CAAS;AACpC,MAAM,qBAAqB;IAAC;IAAc;CAAgB;AAE1D,SAAS,aAAa,QAAgB;IACpC,OAAO,aAAa,IAAI,CAAC,CAAC,OAAS,aAAa,QAAQ,SAAS,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;AACxF;AAEA,SAAS,gBAAgB,QAAgB;IACvC,IAAI,aAAa,WAAW,OAAO;IACnC,IAAI,mBAAmB,IAAI,CAAC,CAAC,OAAS,aAAa,QAAQ,SAAS,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI;QAC3F,OAAO;IACT;IACA,wEAAwE;IACxE,OAAO;AACT;AAEO,SAAS,WAAW,GAAgB;IACzC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,IAAI,OAAO;IACxC,MAAM,gBAAgB,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC;IAE9C,IAAI,aAAa,WAAW;QAC1B,IAAI,iBAAiB,SAAS,UAAU,CAAC,WAAW;YAClD,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;QAC5D;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,IAAI,gBAAgB,aAAa,CAAC,eAAe;QAC/C,MAAM,WAAW,IAAI,IAAI,UAAU,IAAI,GAAG;QAC1C,MAAM,iBAAiB,GAAG,WAAW,QAAQ;QAC7C,IAAI,mBAAmB,KAAK;YAC1B,SAAS,YAAY,CAAC,GAAG,CAAC,cAAc;QAC1C;QACA,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,8DAA8D;IAC9D,SAAS;QACP;KACD;AACH"}}]
}